{"ast":null,"code":"var _jsxFileName = \"/Users/calvincarter/Desktop/sb/mentees/mike_fierro/deployment/client/src/Listings.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport './Listings.css';\nimport ListingCard from './ListingCard';\nimport RickllowApi from './api';\nimport FourOFour from './404Page';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Listings = () => {\n  _s();\n\n  const {\n    category\n  } = useParams(); // Process to get the query param values, if there are any:\n  // useLocation hook gives back an object containing info about the URL.  One of the properties is search, which contains\n  // the query params part of a URL.  If our query param was ?search_term=earth, it would return that whole thing as a string.\n\n  const {\n    search\n  } = useLocation(); // URLSearchParams is a JS class that has useful methods to modify or get info from a URL param.  The get method simply gets\n  // the value of a search parameter.  If it doesn't find the parameter you're looking for, it returns null.  \n\n  const searchTerm = new URLSearchParams(search).get('search_term');\n  const [isLoading, setIsLoading] = useState(true);\n  const [locations, setLocations] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  useEffect(() => {\n    async function getLocations() {\n      // since we're using this component for a few different routes, we need to check multiple conditions\n      let res; // first, if this is a /locations/categories/:category route\n\n      if (category) {\n        // if there's a :category param, we pass that into our api method for categories\n        res = await RickllowApi.getLocationsByCategory(category); // we set our title to whatever the category is.  if it's not any of these 3 or 'dimensions', our api method\n        // will return an error message to us and our locations state will be a string, which we handle below.  if\n        // :category is 'dimensions', then this component won't render in the first place, <Dimensions /> will.\n\n        if (category === 'planets') {\n          setTitle(\"Planets\");\n        }\n\n        if (category === 'space-stations') {\n          setTitle(\"Space Stations\");\n        }\n\n        if (category === 'misc') {\n          setTitle(\"Everything Else\");\n        }\n      } else if (searchTerm) {\n        // we also handle if there is a ?search_term query parameter.  since we can't search in a certain category, this will\n        // only run if there is no :category param.  this is supposed to run only in a /locations route.\n        setTitle(`Search Results For \"${searchTerm}\"`);\n        res = await RickllowApi.getAllLocations(searchTerm);\n      } else {\n        setTitle(\"All Listings\");\n        res = await RickllowApi.getAllLocations();\n      }\n\n      setLocations(res);\n      setIsLoading(false);\n    }\n\n    getLocations();\n  }, [searchTerm, category]);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"my-4\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (typeof locations === 'string') {\n    return /*#__PURE__*/_jsxDEV(FourOFour, {\n      message: locations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Listings container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"my-4\",\n      children: [title, \"(\", locations.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: locations.map(l => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Listings-columns col-12 col-md-6 col-lg-4 col-xxl-3 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(ListingCard, {\n          name: l.name,\n          cost: {\n            cost: l.cost,\n            altCost: l.alt_cost_amt,\n            altCurr: l.alt_cost_curr\n          },\n          image: l.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, l.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Listings, \"AcfkdXCtMc+OYscOKakVe/fAKWY=\", false, function () {\n  return [useParams, useLocation];\n});\n\n_c = Listings;\nexport default Listings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Listings\");","map":{"version":3,"sources":["/Users/calvincarter/Desktop/sb/mentees/mike_fierro/deployment/client/src/Listings.js"],"names":["React","useState","useEffect","useParams","useLocation","ListingCard","RickllowApi","FourOFour","Listings","category","search","searchTerm","URLSearchParams","get","isLoading","setIsLoading","locations","setLocations","title","setTitle","getLocations","res","getLocationsByCategory","getAllLocations","length","map","l","name","cost","altCost","alt_cost_amt","altCurr","alt_cost_curr","image"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport './Listings.css';\nimport ListingCard from './ListingCard';\nimport RickllowApi from './api';\nimport FourOFour from './404Page';\n\nconst Listings = () => {\n  const { category } = useParams();\n  // Process to get the query param values, if there are any:\n  // useLocation hook gives back an object containing info about the URL.  One of the properties is search, which contains\n  // the query params part of a URL.  If our query param was ?search_term=earth, it would return that whole thing as a string.\n  const { search } = useLocation();\n  // URLSearchParams is a JS class that has useful methods to modify or get info from a URL param.  The get method simply gets\n  // the value of a search parameter.  If it doesn't find the parameter you're looking for, it returns null.  \n  const searchTerm = new URLSearchParams(search).get('search_term');\n  const [isLoading, setIsLoading] = useState(true);\n  const [locations, setLocations] = useState([]);\n  const [title, setTitle] = useState(\"\");\n\n  useEffect(() => {\n    async function getLocations() {\n      // since we're using this component for a few different routes, we need to check multiple conditions\n      let res;\n      // first, if this is a /locations/categories/:category route\n      if (category) {\n        // if there's a :category param, we pass that into our api method for categories\n        res = await RickllowApi.getLocationsByCategory(category);\n        // we set our title to whatever the category is.  if it's not any of these 3 or 'dimensions', our api method\n        // will return an error message to us and our locations state will be a string, which we handle below.  if\n        // :category is 'dimensions', then this component won't render in the first place, <Dimensions /> will.\n        if (category === 'planets') {\n          setTitle(\"Planets\");\n        }\n\n        if (category === 'space-stations') {\n          setTitle(\"Space Stations\");\n        }\n\n        if (category === 'misc') {\n          setTitle(\"Everything Else\");\n        }\n      } else if (searchTerm) {\n        // we also handle if there is a ?search_term query parameter.  since we can't search in a certain category, this will\n        // only run if there is no :category param.  this is supposed to run only in a /locations route.\n        setTitle(`Search Results For \"${searchTerm}\"`);\n        res = await RickllowApi.getAllLocations(searchTerm);       \n      } else {\n        setTitle(\"All Listings\");\n        res = await RickllowApi.getAllLocations();\n      }\n\n      setLocations(res);\n      setIsLoading(false);\n    }\n    getLocations();\n  }, [searchTerm, category]);\n  \n  if (isLoading) {\n    return <h1 className=\"my-4\">Loading...</h1>;\n  }\n\n  if (typeof locations === 'string') {\n    return <FourOFour message={locations} />;\n  }\n\n  return (\n    <div className=\"Listings container\">\n      <h1 className=\"my-4\">{title}({locations.length})</h1>\n      <div className=\"row justify-content-center\">\n        {locations.map(l => (\n          <div key={l.name} className=\"Listings-columns col-12 col-md-6 col-lg-4 col-xxl-3 mb-4\">\n            {/* Below, we have to pass in cost as an object, because we need to know for every location if that location\n            has an alternate currency.  If it does, we have to show that plus the normal USD cost. */}\n            <ListingCard \n              name={l.name} \n              cost={{ cost: l.cost, altCost: l.alt_cost_amt, altCurr: l.alt_cost_curr }} \n              image={l.image} \n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Listings;"]},"metadata":{},"sourceType":"module"}